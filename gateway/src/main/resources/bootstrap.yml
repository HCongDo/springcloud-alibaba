server:
  port: 7090
spring:
  application:
    name: gateway-service
  cloud:
    # gateway的配置
    gateway:
      #路由规则
      routes:
        - id: order_route  # 路由的唯一标识，路由到order
          uri: lb://order-service  #需要转发的地址   lb: 使用nacos中的本地负载均衡策略  order-service服务名
          #断言规则 用于路由规则的匹配
          predicates:
            - Path=/order/**
          filters:
            - StripPrefix=1  # 转发之前去掉第一层路径
      # 跨域配置
      globalcors:
        cors-configurations:
          '[/**]':   # 允许跨域访问的资源
            allowedOrigins: "*"   #跨域允许来源
            allowedMethods:
              - GET
              - POST
    #配置Nacos
    nacos:
      discovery:
        server-addr: 139.199.175.93:8848
      config:
        enabled: true # 是否开启配置中心 默认true
        server-addr: 139.199.175.93:8848
        file-extension: yml  # 配置文件后缀
        group: DEFAULT_GROUP
        shared-configs[0]:
          data-id: common-mysql.yml # 配置文件名-Data Id
          group: DEFAULT_GROUP   # 默认为DEFAULT_GROUP
          refresh: true   # 是否动态刷新，默认为false
      # Nacos 认证用户
      username: nacos
      # Nacos 认证密码
      password: nacos
    # 配置sentinel
    sentinel:
      transport:
        dashboard: 127.0.0.1:8501
