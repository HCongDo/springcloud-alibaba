2023-08-12 20:18:58.426 -  WARN  --- [kground-preinit] o.s.h.c.json.Jackson2ObjectMapperBuilder : For Jackson Kotlin classes support please add "com.fasterxml.jackson.module:jackson-module-kotlin" to the classpath
2023-08-12 20:18:58.645 -  INFO  --- [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2023-08-12 20:18:58.645 -  INFO  --- [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2023-08-12 20:19:01.606 -  WARN  --- [           main] c.a.c.n.c.NacosPropertySourceBuilder     : Ignore the empty nacos configuration and get it based on dataId[oauth-service.yml] & group[DEFAULT_GROUP]
2023-08-12 20:19:01.607 -  INFO  --- [           main] b.c.PropertySourceBootstrapConfiguration : Located property source: [BootstrapPropertySource {name='bootstrapProperties-oauth-service.yml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-oauth-service,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-common-logback-nacos.yml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-common-mysql.yml,DEFAULT_GROUP'}]
2023-08-12 20:19:01.631 -  INFO  --- [           main] c.s.a.AuthenticationApplication          : No active profile set, falling back to default profiles: default
2023-08-12 20:19:02.717 -  WARN  --- [           main] o.s.boot.actuate.endpoint.EndpointId     : Endpoint ID 'service-registry' contains invalid characters, please migrate to a valid format.
2023-08-12 20:19:02.909 -  INFO  --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=b7a3abaa-6409-3898-bb99-b69edc1015d9
2023-08-12 20:19:03.047 -  INFO  --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@505d2bac' of type [org.springframework.security.oauth2.provider.expression.OAuth2MethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-12 20:19:03.050 -  INFO  --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-08-12 20:19:03.281 -  INFO  --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7090 (http)
2023-08-12 20:19:03.290 -  INFO  --- [           main] org.apache.catalina.core.StandardService : Starting service [Tomcat]
2023-08-12 20:19:03.290 -  INFO  --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.46]
2023-08-12 20:19:03.426 -  INFO  --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-08-12 20:19:03.426 -  INFO  --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1760 ms
2023-08-12 20:19:05.318 -  DEBUG --- [           main] s.c.a.w.c.WebSecurityConfigurerAdapter$2 : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2023-08-12 20:19:05.566 -  DEBUG --- [           main] .s.o.p.e.FrameworkEndpointHandlerMapping : 8 mappings in 'oauth2EndpointHandlerMapping'
2023-08-12 20:19:05.586 -  DEBUG --- [           main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authenticationApplication=com.study.authentication.AuthenticationApplication$$EnhancerBySpringCGLIB$$aeddcf06@aa633e6, securityConfig=com.study.authentication.config.SecurityConfig$$EnhancerBySpringCGLIB$$c661a51c@3cc74fc4}
2023-08-12 20:19:05.660 -  DEBUG --- [           main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'fullyAuthenticated', for Ant [pattern='/oauth/token']
2023-08-12 20:19:05.662 -  DEBUG --- [           main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll()', for Ant [pattern='/oauth/token_key']
2023-08-12 20:19:05.662 -  DEBUG --- [           main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll()', for Ant [pattern='/oauth/check_token']
2023-08-12 20:19:05.666 -  DEBUG --- [           main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2023-08-12 20:19:05.667 -  DEBUG --- [           main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2023-08-12 20:19:05.671 -  INFO  --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@44a13699, org.springframework.security.web.context.SecurityContextPersistenceFilter@5151accb, org.springframework.security.web.header.HeaderWriterFilter@5d6d424d, org.springframework.security.web.authentication.logout.LogoutFilter@5bccef9f, org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter@2b15ba1a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1554eaa4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c56c911, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@134955bb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1253b822, org.springframework.security.web.session.SessionManagementFilter@64f6dd19, org.springframework.security.web.access.ExceptionTranslationFilter@1c9975a8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1ab85862]
2023-08-12 20:19:05.680 -  DEBUG --- [           main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/login/qrCode']
2023-08-12 20:19:05.681 -  DEBUG --- [           main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2023-08-12 20:19:05.682 -  DEBUG --- [           main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2023-08-12 20:19:05.682 -  DEBUG --- [           main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2023-08-12 20:19:05.682 -  INFO  --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@5e2b512b, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ba87c11, org.springframework.security.web.context.SecurityContextPersistenceFilter@9499643, org.springframework.security.web.header.HeaderWriterFilter@27055a2a, org.springframework.security.web.authentication.logout.LogoutFilter@4ec616d6, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@1e429f56, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@776d8097, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a34505a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17d19538, org.springframework.security.web.session.SessionManagementFilter@33e4068, org.springframework.security.web.access.ExceptionTranslationFilter@4037cdb0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1ead3c67]
2023-08-12 20:19:05.683 -  DEBUG --- [           main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'permitAll', for Ant [pattern='/**', OPTIONS]
2023-08-12 20:19:05.683 -  DEBUG --- [           main] edFilterInvocationSecurityMetadataSource : Adding web access control expression 'authenticated', for any request
2023-08-12 20:19:05.684 -  DEBUG --- [           main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2023-08-12 20:19:05.684 -  DEBUG --- [           main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes
2023-08-12 20:19:05.684 -  INFO  --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@684a802a, org.springframework.security.web.context.SecurityContextPersistenceFilter@7b423f90, org.springframework.security.web.header.HeaderWriterFilter@4258106, org.springframework.security.web.authentication.logout.LogoutFilter@7be859de, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2ff8d39b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24f3fb87, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c7673ae, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b5c9412, org.springframework.security.web.session.SessionManagementFilter@64ef2719, org.springframework.security.web.access.ExceptionTranslationFilter@5cc075da, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2de7fe0e]
2023-08-12 20:19:05.696 -  DEBUG --- [           main] o.s.s.a.i.a.MethodSecurityInterceptor    : Validated configuration attributes
2023-08-12 20:19:05.720 -  WARN  --- [           main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2023-08-12 20:19:05.720 -  INFO  --- [           main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2023-08-12 20:19:05.725 -  WARN  --- [           main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2023-08-12 20:19:05.725 -  INFO  --- [           main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2023-08-12 20:19:05.888 -  INFO  --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2023-08-12 20:19:06.055 -  WARN  --- [           main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates or check your Thymeleaf configuration)
2023-08-12 20:19:06.684 -  INFO  --- [           main] o.s.s.concurrent.ThreadPoolTaskScheduler : Initializing ExecutorService 'Nacos-Watch-Task-Scheduler'
2023-08-12 20:19:07.540 -  WARN  --- [           main] s.o.SpringCloudSecurityAutoConfiguration : All Spring Cloud Security modules and starters are deprecated. They will be moved to individual projects in the next major release.
2023-08-12 20:19:07.544 -  INFO  --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2023-08-12 20:19:07.637 -  INFO  --- [           main] com.alibaba.nacos.client.naming          : initializer namespace from System Property : null
2023-08-12 20:19:07.637 -  INFO  --- [           main] com.alibaba.nacos.client.naming          : initializer namespace from System Environment :null
2023-08-12 20:19:07.637 -  INFO  --- [           main] com.alibaba.nacos.client.naming          : initializer namespace from System Property :null
2023-08-12 20:19:07.645 -  INFO  --- [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2023-08-12 20:19:07.646 -  INFO  --- [           main] c.a.n.p.a.s.c.ClientAuthPluginManager    : [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2023-08-12 20:19:07.757 -  INFO  --- [           main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 7696afa1-dcb3-4d8e-ace4-52d9b071b41c
2023-08-12 20:19:07.758 -  INFO  --- [           main] com.alibaba.nacos.common.remote.client   : [7696afa1-dcb3-4d8e-ace4-52d9b071b41c] RpcClient init label, labels = {module=naming, source=sdk}
2023-08-12 20:19:07.759 -  INFO  --- [           main] com.alibaba.nacos.common.remote.client   : [7696afa1-dcb3-4d8e-ace4-52d9b071b41c] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2023-08-12 20:19:07.759 -  INFO  --- [           main] com.alibaba.nacos.common.remote.client   : [7696afa1-dcb3-4d8e-ace4-52d9b071b41c] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2023-08-12 20:19:07.760 -  INFO  --- [           main] com.alibaba.nacos.common.remote.client   : [7696afa1-dcb3-4d8e-ace4-52d9b071b41c] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2023-08-12 20:19:07.760 -  INFO  --- [           main] com.alibaba.nacos.common.remote.client   : [7696afa1-dcb3-4d8e-ace4-52d9b071b41c] Try to connect to server on start up, server: {serverIp = '139.199.175.93', server main port = 8848}
2023-08-12 20:19:07.920 -  INFO  --- [           main] com.alibaba.nacos.common.remote.client   : [7696afa1-dcb3-4d8e-ace4-52d9b071b41c] Success to connect to server [139.199.175.93:8848] on start up, connectionId = 1691842749019_222.240.122.161_17937
2023-08-12 20:19:07.920 -  INFO  --- [           main] com.alibaba.nacos.common.remote.client   : [7696afa1-dcb3-4d8e-ace4-52d9b071b41c] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2023-08-12 20:19:07.920 -  INFO  --- [t.remote.worker] com.alibaba.nacos.common.remote.client   : [7696afa1-dcb3-4d8e-ace4-52d9b071b41c] Notify connected event to listeners.
2023-08-12 20:19:07.920 -  INFO  --- [           main] com.alibaba.nacos.common.remote.client   : [7696afa1-dcb3-4d8e-ace4-52d9b071b41c] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$274/1208670252
2023-08-12 20:19:07.920 -  INFO  --- [t.remote.worker] com.alibaba.nacos.client.naming          : Grpc connection connect
2023-08-12 20:19:07.922 -  INFO  --- [           main] com.alibaba.nacos.client.naming          : [SUBSCRIBE-SERVICE] service:oauth-service, group:DEFAULT_GROUP, clusters:DEFAULT 
2023-08-12 20:19:07.946 -  INFO  --- [           main] com.alibaba.nacos.client.naming          : init new ips(0) service: DEFAULT_GROUP@@oauth-service@@DEFAULT -> []
2023-08-12 20:19:07.957 -  INFO  --- [           main] com.alibaba.nacos.client.naming          : current ips:(0) service: DEFAULT_GROUP@@oauth-service@@DEFAULT -> []
2023-08-12 20:19:07.975 -  INFO  --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7090 (http) with context path ''
2023-08-12 20:19:07.977 -  INFO  --- [           main] com.alibaba.nacos.client.naming          : [REGISTER-SERVICE] public registering service oauth-service with instance Instance{instanceId='null', ip='192.168.2.8', port=7090, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={preserved.register.source=SPRING_CLOUD}}
2023-08-12 20:19:08.000 -  INFO  --- [           main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP oauth-service 192.168.2.8:7090 register finished
2023-08-12 20:19:08.456 -  INFO  --- [           main] c.s.a.AuthenticationApplication          : Started AuthenticationApplication in 11.003 seconds (JVM running for 11.909)
2023-08-12 20:19:08.461 -  INFO  --- [           main] c.a.nacos.client.config.impl.CacheData   : nacos.cache.data.init.snapshot = true 
2023-08-12 20:19:08.462 -  INFO  --- [           main] c.a.n.client.config.impl.ClientWorker    : [fixed-139.199.175.93_8848] [subscribe] common-mysql.yml+DEFAULT_GROUP
2023-08-12 20:19:08.463 -  INFO  --- [           main] c.a.nacos.client.config.impl.CacheData   : [fixed-139.199.175.93_8848] [add-listener] ok, tenant=, dataId=common-mysql.yml, group=DEFAULT_GROUP, cnt=1
2023-08-12 20:19:08.464 -  INFO  --- [           main] c.a.n.client.config.impl.ClientWorker    : [fixed-139.199.175.93_8848] [subscribe] oauth-service+DEFAULT_GROUP
2023-08-12 20:19:08.464 -  INFO  --- [           main] c.a.nacos.client.config.impl.CacheData   : [fixed-139.199.175.93_8848] [add-listener] ok, tenant=, dataId=oauth-service, group=DEFAULT_GROUP, cnt=1
2023-08-12 20:19:08.464 -  INFO  --- [           main] c.a.n.client.config.impl.ClientWorker    : [fixed-139.199.175.93_8848] [subscribe] oauth-service.yml+DEFAULT_GROUP
2023-08-12 20:19:08.464 -  INFO  --- [           main] c.a.nacos.client.config.impl.CacheData   : [fixed-139.199.175.93_8848] [add-listener] ok, tenant=, dataId=oauth-service.yml, group=DEFAULT_GROUP, cnt=1
2023-08-12 20:19:08.465 -  INFO  --- [           main] c.a.n.client.config.impl.ClientWorker    : [fixed-139.199.175.93_8848] [subscribe] common-logback-nacos.yml+DEFAULT_GROUP
2023-08-12 20:19:08.465 -  INFO  --- [           main] c.a.nacos.client.config.impl.CacheData   : [fixed-139.199.175.93_8848] [add-listener] ok, tenant=, dataId=common-logback-nacos.yml, group=DEFAULT_GROUP, cnt=1
2023-08-12 20:19:08.505 -  INFO  --- [39.199.175.93-7] com.alibaba.nacos.common.remote.client   : [7696afa1-dcb3-4d8e-ace4-52d9b071b41c] Receive server push request, request = NotifySubscriberRequest, requestId = 1353
2023-08-12 20:19:08.508 -  INFO  --- [39.199.175.93-7] com.alibaba.nacos.client.naming          : init new ips(1) service: DEFAULT_GROUP@@oauth-service -> [{"ip":"192.168.2.8","port":7090,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@oauth-service","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2023-08-12 20:19:08.509 -  INFO  --- [39.199.175.93-7] com.alibaba.nacos.client.naming          : current ips:(1) service: DEFAULT_GROUP@@oauth-service -> [{"ip":"192.168.2.8","port":7090,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@oauth-service","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2023-08-12 20:19:08.509 -  INFO  --- [39.199.175.93-7] com.alibaba.nacos.common.remote.client   : [7696afa1-dcb3-4d8e-ace4-52d9b071b41c] Ack server push request, request = NotifySubscriberRequest, requestId = 1353
2023-08-12 20:19:08.693 -  INFO  --- [(1)-192.168.2.8] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-12 20:19:08.953 -  INFO  --- [aming.updater.0] com.alibaba.nacos.client.naming          : new ips(1) service: DEFAULT_GROUP@@oauth-service@@DEFAULT -> [{"ip":"192.168.2.8","port":7090,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@oauth-service","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2023-08-12 20:19:08.954 -  INFO  --- [aming.updater.0] com.alibaba.nacos.client.naming          : current ips:(1) service: DEFAULT_GROUP@@oauth-service@@DEFAULT -> [{"ip":"192.168.2.8","port":7090,"weight":1.0,"healthy":true,"enabled":true,"ephemeral":true,"clusterName":"DEFAULT","serviceName":"DEFAULT_GROUP@@oauth-service","metadata":{"preserved.register.source":"SPRING_CLOUD"},"ipDeleteTimeout":30000,"instanceHeartBeatTimeOut":15000,"instanceHeartBeatInterval":5000}]
2023-08-12 20:19:09.379 -  INFO  --- [(3)-192.168.2.8] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-12 20:19:09.379 -  INFO  --- [(3)-192.168.2.8] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-08-12 20:19:09.386 -  INFO  --- [(3)-192.168.2.8] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2023-08-12 20:19:09.702 -  INFO  --- [(1)-192.168.2.8] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-12 20:19:50.092 -  DEBUG --- [nio-7090-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/oauth/token']
2023-08-12 20:19:50.093 -  DEBUG --- [nio-7090-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/oauth/token'; against '/oauth/token'
2023-08-12 20:19:50.093 -  DEBUG --- [nio-7090-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : matched
2023-08-12 20:19:50.093 -  DEBUG --- [nio-7090-exec-1] o.s.security.web.FilterChainProxy        : /oauth/token?client_id=order-service&client_secret=order-secret&grant_type=client_credentials at position 1 of 12 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2023-08-12 20:19:50.094 -  DEBUG --- [nio-7090-exec-1] o.s.security.web.FilterChainProxy        : /oauth/token?client_id=order-service&client_secret=order-secret&grant_type=client_credentials at position 2 of 12 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2023-08-12 20:19:50.094 -  DEBUG --- [nio-7090-exec-1] o.s.security.web.FilterChainProxy        : /oauth/token?client_id=order-service&client_secret=order-secret&grant_type=client_credentials at position 3 of 12 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2023-08-12 20:19:50.095 -  DEBUG --- [nio-7090-exec-1] o.s.security.web.FilterChainProxy        : /oauth/token?client_id=order-service&client_secret=order-secret&grant_type=client_credentials at position 4 of 12 in additional filter chain; firing Filter: 'LogoutFilter'
2023-08-12 20:19:50.095 -  DEBUG --- [nio-7090-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', GET]
2023-08-12 20:19:50.095 -  DEBUG --- [nio-7090-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/oauth/token'; against '/logout'
2023-08-12 20:19:50.095 -  DEBUG --- [nio-7090-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', POST]
2023-08-12 20:19:50.095 -  DEBUG --- [nio-7090-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /oauth/token' doesn't match 'POST /logout'
2023-08-12 20:19:50.095 -  DEBUG --- [nio-7090-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', PUT]
2023-08-12 20:19:50.095 -  DEBUG --- [nio-7090-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /oauth/token' doesn't match 'PUT /logout'
2023-08-12 20:19:50.095 -  DEBUG --- [nio-7090-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern='/logout', DELETE]
2023-08-12 20:19:50.095 -  DEBUG --- [nio-7090-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request 'GET /oauth/token' doesn't match 'DELETE /logout'
2023-08-12 20:19:50.095 -  DEBUG --- [nio-7090-exec-1] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found
2023-08-12 20:19:50.095 -  DEBUG --- [nio-7090-exec-1] o.s.security.web.FilterChainProxy        : /oauth/token?client_id=order-service&client_secret=order-secret&grant_type=client_credentials at position 5 of 12 in additional filter chain; firing Filter: 'ClientCredentialsTokenEndpointFilter'
2023-08-12 20:19:50.096 -  DEBUG --- [nio-7090-exec-1] p.c.ClientCredentialsTokenEndpointFilter : Request is to process authentication
2023-08-12 20:19:50.096 -  DEBUG --- [nio-7090-exec-1] o.s.s.authentication.ProviderManager     : Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2023-08-12 20:19:50.236 -  DEBUG --- [nio-7090-exec-1] o.springframework.jdbc.core.JdbcTemplate : Executing prepared SQL query
2023-08-12 20:19:50.236 -  DEBUG --- [nio-7090-exec-1] o.springframework.jdbc.core.JdbcTemplate : Executing prepared SQL statement [select client_id, client_secret, resource_ids, scope, authorized_grant_types, web_server_redirect_uri, authorities, access_token_validity, refresh_token_validity, additional_information, autoapprove from oauth_client_details where client_id = ?]
2023-08-12 20:19:50.269 -  TRACE --- [nio-7090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [order-service], value class [java.lang.String], SQL type unknown
2023-08-12 20:19:50.394 -  DEBUG --- [nio-7090-exec-1] p.c.ClientCredentialsTokenEndpointFilter : Authentication success. Updating SecurityContextHolder to contain: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d8237bbc: Principal: org.springframework.security.core.userdetails.User@218d0336: Username: order-service; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: order; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: order
2023-08-12 20:19:50.394 -  DEBUG --- [nio-7090-exec-1] o.s.security.web.FilterChainProxy        : /oauth/token?client_id=order-service&client_secret=order-secret&grant_type=client_credentials at position 6 of 12 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2023-08-12 20:19:50.395 -  DEBUG --- [nio-7090-exec-1] o.s.security.web.FilterChainProxy        : /oauth/token?client_id=order-service&client_secret=order-secret&grant_type=client_credentials at position 7 of 12 in additional filter chain; firing Filter: 'RequestCacheAwareFilter'
2023-08-12 20:19:50.395 -  DEBUG --- [nio-7090-exec-1] o.s.s.w.s.HttpSessionRequestCache        : saved request doesn't match
2023-08-12 20:19:50.395 -  DEBUG --- [nio-7090-exec-1] o.s.security.web.FilterChainProxy        : /oauth/token?client_id=order-service&client_secret=order-secret&grant_type=client_credentials at position 8 of 12 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2023-08-12 20:19:50.395 -  DEBUG --- [nio-7090-exec-1] o.s.security.web.FilterChainProxy        : /oauth/token?client_id=order-service&client_secret=order-secret&grant_type=client_credentials at position 9 of 12 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2023-08-12 20:19:50.396 -  DEBUG --- [nio-7090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d8237bbc: Principal: org.springframework.security.core.userdetails.User@218d0336: Username: order-service; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: order; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: order'
2023-08-12 20:19:50.396 -  DEBUG --- [nio-7090-exec-1] o.s.security.web.FilterChainProxy        : /oauth/token?client_id=order-service&client_secret=order-secret&grant_type=client_credentials at position 10 of 12 in additional filter chain; firing Filter: 'SessionManagementFilter'
2023-08-12 20:19:50.396 -  DEBUG --- [nio-7090-exec-1] s.CompositeSessionAuthenticationStrategy : Delegating to org.springframework.security.web.authentication.session.ChangeSessionIdAuthenticationStrategy@e7b3e54
2023-08-12 20:19:50.396 -  DEBUG --- [nio-7090-exec-1] o.s.security.web.FilterChainProxy        : /oauth/token?client_id=order-service&client_secret=order-secret&grant_type=client_credentials at position 11 of 12 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2023-08-12 20:19:50.396 -  DEBUG --- [nio-7090-exec-1] o.s.security.web.FilterChainProxy        : /oauth/token?client_id=order-service&client_secret=order-secret&grant_type=client_credentials at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2023-08-12 20:19:50.396 -  DEBUG --- [nio-7090-exec-1] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : '/oauth/token'; against '/oauth/token'
2023-08-12 20:19:50.396 -  DEBUG --- [nio-7090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /oauth/token?client_id=order-service&client_secret=order-secret&grant_type=client_credentials; Attributes: [fullyAuthenticated]
2023-08-12 20:19:50.396 -  DEBUG --- [nio-7090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@d8237bbc: Principal: org.springframework.security.core.userdetails.User@218d0336: Username: order-service; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: order; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: order
2023-08-12 20:19:50.400 -  DEBUG --- [nio-7090-exec-1] o.s.s.access.vote.AffirmativeBased       : Voter: org.springframework.security.web.access.expression.WebExpressionVoter@437945bf, returned: 1
2023-08-12 20:19:50.400 -  DEBUG --- [nio-7090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorization successful
2023-08-12 20:19:50.400 -  DEBUG --- [nio-7090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : RunAsManager did not change Authentication object
2023-08-12 20:19:50.400 -  DEBUG --- [nio-7090-exec-1] o.s.security.web.FilterChainProxy        : /oauth/token?client_id=order-service&client_secret=order-secret&grant_type=client_credentials reached end of additional filter chain; proceeding with original chain
2023-08-12 20:19:50.404 -  DEBUG --- [nio-7090-exec-1] .s.o.p.e.FrameworkEndpointHandlerMapping : Mapped to org.springframework.security.oauth2.provider.endpoint.TokenEndpoint#getAccessToken(Principal, Map)
2023-08-12 20:19:50.413 -  DEBUG --- [nio-7090-exec-1] o.springframework.jdbc.core.JdbcTemplate : Executing prepared SQL query
2023-08-12 20:19:50.413 -  DEBUG --- [nio-7090-exec-1] o.springframework.jdbc.core.JdbcTemplate : Executing prepared SQL statement [select client_id, client_secret, resource_ids, scope, authorized_grant_types, web_server_redirect_uri, authorities, access_token_validity, refresh_token_validity, additional_information, autoapprove from oauth_client_details where client_id = ?]
2023-08-12 20:19:50.414 -  TRACE --- [nio-7090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [order-service], value class [java.lang.String], SQL type unknown
2023-08-12 20:19:50.454 -  DEBUG --- [nio-7090-exec-1] o.springframework.jdbc.core.JdbcTemplate : Executing prepared SQL query
2023-08-12 20:19:50.454 -  DEBUG --- [nio-7090-exec-1] o.springframework.jdbc.core.JdbcTemplate : Executing prepared SQL statement [select client_id, client_secret, resource_ids, scope, authorized_grant_types, web_server_redirect_uri, authorities, access_token_validity, refresh_token_validity, additional_information, autoapprove from oauth_client_details where client_id = ?]
2023-08-12 20:19:50.454 -  TRACE --- [nio-7090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [order-service], value class [java.lang.String], SQL type unknown
2023-08-12 20:19:50.495 -  DEBUG --- [nio-7090-exec-1] o.springframework.jdbc.core.JdbcTemplate : Executing prepared SQL query
2023-08-12 20:19:50.495 -  DEBUG --- [nio-7090-exec-1] o.springframework.jdbc.core.JdbcTemplate : Executing prepared SQL statement [select client_id, client_secret, resource_ids, scope, authorized_grant_types, web_server_redirect_uri, authorities, access_token_validity, refresh_token_validity, additional_information, autoapprove from oauth_client_details where client_id = ?]
2023-08-12 20:19:50.495 -  TRACE --- [nio-7090-exec-1] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [order-service], value class [java.lang.String], SQL type unknown
2023-08-12 20:19:50.535 -  DEBUG --- [nio-7090-exec-1] .s.s.o.p.c.ClientCredentialsTokenGranter : Getting access token for: order-service
2023-08-12 20:19:50.636 -  DEBUG --- [nio-7090-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@30c30d16
2023-08-12 20:19:50.640 -  DEBUG --- [nio-7090-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Chain processed normally
2023-08-12 20:19:50.640 -  DEBUG --- [nio-7090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : SecurityContextHolder now cleared, as request processing completed
2023-08-12 21:10:22.421 -  WARN  --- [      Thread-11] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
2023-08-12 21:10:22.421 -  WARN  --- [       Thread-3] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
2023-08-12 21:10:22.421 -  WARN  --- [      Thread-11] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
2023-08-12 21:10:22.422 -  WARN  --- [       Thread-3] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
2023-08-12 21:10:22.642 -  INFO  --- [extShutdownHook] o.s.s.concurrent.ThreadPoolTaskScheduler : Shutting down ExecutorService 'Nacos-Watch-Task-Scheduler'
2023-08-12 21:10:22.661 -  INFO  --- [extShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
2023-08-12 21:10:22.661 -  INFO  --- [extShutdownHook] com.alibaba.nacos.client.naming          : [DEREGISTER-SERVICE] public deregistering service oauth-service with instance: Instance{instanceId='null', ip='192.168.2.8', port=7090, weight=1.0, healthy=true, enabled=true, ephemeral=true, clusterName='DEFAULT', serviceName='null', metadata={}}
2023-08-12 21:10:22.678 -  INFO  --- [extShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
2023-08-12 21:10:22.679 -  INFO  --- [extShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2023-08-12 21:10:22.679 -  INFO  --- [extShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2023-08-12 21:10:22.679 -  INFO  --- [extShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2023-08-12 21:10:22.679 -  INFO  --- [extShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2023-08-12 21:10:22.679 -  INFO  --- [extShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2023-08-12 21:10:22.679 -  INFO  --- [extShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2023-08-12 21:10:23.008 -  INFO  --- [extShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2023-08-12 21:10:23.008 -  INFO  --- [extShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2023-08-12 21:10:23.008 -  WARN  --- [extShutdownHook] com.alibaba.nacos.client.naming          : [NamingHttpClientManager] Start destroying NacosRestTemplate
2023-08-12 21:10:23.009 -  WARN  --- [extShutdownHook] com.alibaba.nacos.client.naming          : [NamingHttpClientManager] Destruction of the end
2023-08-12 21:10:23.009 -  INFO  --- [extShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2023-08-12 21:10:23.009 -  INFO  --- [extShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2023-08-12 21:10:23.009 -  INFO  --- [extShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown begin
2023-08-12 21:10:23.009 -  INFO  --- [extShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.beat.BeatReactor do shutdown stop
2023-08-12 21:10:23.009 -  WARN  --- [extShutdownHook] com.alibaba.nacos.client.naming          : [NamingHttpClientManager] Start destroying NacosRestTemplate
2023-08-12 21:10:23.009 -  WARN  --- [extShutdownHook] com.alibaba.nacos.client.naming          : [NamingHttpClientManager] Destruction of the end
2023-08-12 21:10:23.009 -  INFO  --- [extShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2023-08-12 21:10:23.009 -  INFO  --- [extShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
2023-08-12 21:10:23.009 -  INFO  --- [extShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@15fde4f0[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2023-08-12 21:10:23.009 -  INFO  --- [extShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1691842749019_222.240.122.161_17937
2023-08-12 21:10:23.013 -  INFO  --- [extShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@7a364c30[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 630]
2023-08-12 21:10:23.013 -  INFO  --- [extShutdownHook] com.alibaba.nacos.client.naming          : Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@276130a4[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 1022]
2023-08-12 21:10:23.014 -  INFO  --- [extShutdownHook] c.a.n.c.a.ram.identify.CredentialWatcher : [null] CredentialWatcher is stopped
2023-08-12 21:10:23.014 -  INFO  --- [extShutdownHook] c.a.n.c.a.ram.identify.CredentialService : [null] CredentialService is freed
2023-08-12 21:10:23.014 -  INFO  --- [extShutdownHook] com.alibaba.nacos.client.naming          : com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2023-08-12 21:10:23.015 -  INFO  --- [extShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2023-08-12 21:10:23.017 -  INFO  --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-08-12 21:10:23.025 -  INFO  --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
